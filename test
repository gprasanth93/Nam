// src/Report.jsx
import React from 'react';
import { MantineProvider, Text, Table, Title, Pill } from '@mantine/core';

function Report({ data }) {
  return (
    <MantineProvider theme={{ colorScheme: 'dark' }}>
      <div style={{ padding: '20px' }}>
        <Title order={1} align="center" mb="lg">
          PGMaker2 API Sanity Test Report
        </Title>
        <Text>Overall Status: {data.status}</Text>
        <Text>Total Tests: {data.numTotalTests}</Text>
        <Text>Passed Tests: {data.numPassTests}</Text>
        <Text>Failed Tests: {data.numFailTests}</Text>

        <Title order={2} mt="lg" mb="sm">
          Detailed Report
        </Title>
        <Table striped withTableBorder>
          <thead>
            <tr>
              <th>Description</th>
              <th>Result</th>
              <th>Time (ms)</th>
              <th>Message</th>
            </tr>
          </thead>
          <tbody>
            {data.report.map((item, index) => (
              <tr key={index}>
                <td>{item.description}</td>
                <td>
                  <Pill
                    size="xl"
                    color={item.result === 'Pass' ? 'green' : 'red'}
                  >
                    {item.result}
                  </Pill>
                </td>
                <td>{item.time.toFixed(2)}</td>
                <td>{item.message || 'N/A'}</td>
              </tr>
            ))}
          </tbody>
        </Table>
      </div>
    </MantineProvider>
  );
}

export default Report;
