Hereâ€™s a polished, well-structured internal blog draft explaining how teams can migrate their databases to KVM, written in a clear, step-by-step, and user-friendly style ğŸ‘‡

â¸»

ğŸ§­ How to Migrate Your Database to KVM

As part of our platform modernization and resource optimization initiative, weâ€™re enabling teams to migrate their databases to KVM (Kernel-based Virtual Machine).
This transition gives you better resource isolation, improved resilience, and enhanced observability through the PgMaker platform and Grafana metrics.

This guide walks you through the end-to-end process of migrating your database to a KVM environment.

â¸»

âš™ï¸ Step 1: Add virtual_machine Configuration in pgmaker-config

Start by adding the following section in your pgmaker-config for your database:

virtual_machine:
  enabled: true
  class: C2          # Select based on your DB class (C0â€“C5)
  storage_class: S2  # Choose based on storage (S0â€“S5)
  io_class: I2       # Choose based on IO profile (I0â€“I5)

Once the configuration is deployed, the platform will automatically prepare a KVM instance matching your selected compute, storage, and IO classes.

â¸»

ğŸ”„ Step 2: Automatic Standby Migration

After the config update, all standby replicas for your database will be automatically migrated to KVM.
The primary instance will continue to run on the existing bare-metal host during this phase.

This phased approach ensures that replication remains intact and data safety is guaranteed throughout the transition.

â¸»

ğŸ§© Step 3: Verify KVM Migration in PgMaker Dashboard

Head to the PgMaker Dashboard and confirm that all standbys are successfully running in KVM.
You can verify this by checking the â€œEnvironmentâ€ or â€œHost Typeâ€ column â€” instances marked as KVM indicate successful migration.

If all standbys show as KVM, your environment is ready for promotion.

â¸»

ğŸš€ Step 4: Promote Standby to Primary

Once youâ€™re ready, open the Promote Standbys page in PgMaker and schedule a promotion window at a time that works best for your application.

During this step, the synchronized KVM standby will be promoted to become the new Primary, while the previous primary will be gracefully detached.

After the promotion, your database is now fully running in a KVM environment.

â¸»

ğŸ“ˆ Step 5: Monitor Performance in Grafana

Once your database is active in KVM, you can monitor detailed performance metrics in Grafana.
Youâ€™ll see live visualizations for:
	â€¢	CPU utilization
	â€¢	Memory usage (p95 / p99)
	â€¢	IO throughput (MB/s)
	â€¢	Replication lag and WAL writes

These metrics help you understand how your database performs in its new virtualized environment.

â¸»

âš™ï¸ Step 6: Fine-Tune Configuration (If Needed)

If you observe performance differences or latency after migration, you can fine-tune parameters in your pgconfig for optimal performance.
Common tweaks include:
	â€¢	Adjusting shared_buffers, work_mem, and effective_cache_size
	â€¢	Tuning autovacuum settings for your workload type
	â€¢	Reviewing WAL and checkpoint settings

You can collaborate with the PgMaker team if youâ€™re unsure which parameters to adjust â€” weâ€™ll help you interpret the Grafana metrics and apply safe performance tuning.

â¸»

âœ… Summary

Step	Action	Outcome
1	Add virtual_machine config	Enable KVM for your database
2	Automatic standby migration	All replicas moved safely
3	Verify in Dashboard	Confirm KVM readiness
4	Promote standby	Primary now on KVM
5	Review Grafana metrics	Monitor real-time performance
6	Optimize config	Fine-tune for best efficiency


â¸»

ğŸ’¬ Need Assistance?

If you face any issues or need guidance during migration, please reach out to the PgMaker Team.
Weâ€™re actively monitoring all migrations and are available to help review sizing, analyze performance metrics, and ensure your database runs optimally in its new KVM environment.

â¸»

Would you like me to make a version with screenshots / icons and step banners (Mantine UI style) for your internal blog page or PDF format announcement? That would make it feel like an official migration guide with visuals (KVM icon, Grafana chart snippet, etc.).